{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@ordinaryjellyfish/sentra/webpack/bootstrap","webpack://@ordinaryjellyfish/sentra/webpack/runtime/compat get default export","webpack://@ordinaryjellyfish/sentra/webpack/runtime/define property getters","webpack://@ordinaryjellyfish/sentra/webpack/runtime/hasOwnProperty shorthand","webpack://@ordinaryjellyfish/sentra/external root \"flarum.core.compat['admin/app']\"","webpack://@ordinaryjellyfish/sentra/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@ordinaryjellyfish/sentra/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@ordinaryjellyfish/sentra/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@ordinaryjellyfish/sentra/external root \"flarum.core.compat['common/components/Button']\"","webpack://@ordinaryjellyfish/sentra/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@ordinaryjellyfish/sentra/external root \"flarum.core.compat['admin/components/SettingsModal']\"","webpack://@ordinaryjellyfish/sentra/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@ordinaryjellyfish/sentra/./src/admin/components/ServiceModal.tsx","webpack://@ordinaryjellyfish/sentra/./src/admin/components/ContentSafetyModal.tsx","webpack://@ordinaryjellyfish/sentra/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@ordinaryjellyfish/sentra/./src/admin/components/ModuleModal.tsx","webpack://@ordinaryjellyfish/sentra/external root \"flarum.core.compat['common/components/Select']\"","webpack://@ordinaryjellyfish/sentra/./src/admin/components/PostShieldModal.tsx","webpack://@ordinaryjellyfish/sentra/./src/admin/SettingsPage.tsx","webpack://@ordinaryjellyfish/sentra/./src/admin/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/SettingsModal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","/*\n * Sentra - Intelligent community management and moderation for Flarum.\n * Copyright (C) 2025  Tristian Kelly <me@ordinaryjellyfish.xyz>\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport app from 'flarum/admin/app';\nimport SettingsModal from 'flarum/admin/components/SettingsModal';\nimport Switch from 'flarum/common/components/Switch';\n\nexport default class ServiceModal extends SettingsModal {\n  static isDismissible = true;\n  key = '';\n\n  className() {\n    return 'Modal--large';\n  }\n\n  title() {\n    return app.translator.trans(`ordinaryjellyfish-sentra.admin.services.${this.key}`);\n  }\n\n  helpText() {\n    return app.translator.trans(`ordinaryjellyfish-sentra.admin.services.${this.key}_help`);\n  }\n\n  content() {\n    const setting = `ordinaryjellyfish-sentra.services.${this.key}.enabled`;\n    const value = this.setting(setting)();\n\n    return (\n      <div className=\"Modal-body\">\n        <p className=\"helpText\">{this.helpText()}</p>\n        <div className=\"Form\">\n          <div className=\"Form-group\">\n            <Switch state={!!value && value !== '0'} onchange={this.settings[setting]}>\n              {app.translator.trans(`ordinaryjellyfish-sentra.admin.enable`)}\n            </Switch>\n          </div>\n          <div className=\"Form-group\">{this.form()}</div>\n          <div className=\"Form-group\">{this.submitButton()}</div>\n        </div>\n      </div>\n    );\n  }\n\n  apiKeyField() {\n    return (\n      <div>\n        <label className=\"sentra-form-label\" for={`${this.key}_apiKey`}>\n          {app.translator.trans('ordinaryjellyfish-sentra.admin.api_key')}\n        </label>\n        <input\n          type=\"text\"\n          className=\"FormControl\"\n          spellcheck=\"false\"\n          id={`${this.key}_apiKey`}\n          bidi={this.setting(`ordinaryjellyfish-sentra.services.${this.key}.api_key`)}\n        />\n      </div>\n    );\n  }\n\n  endpointField() {\n    return (\n      <div>\n        <label className=\"sentra-form-label\" for={`${this.key}_endpoint`}>\n          {app.translator.trans('ordinaryjellyfish-sentra.admin.endpoint')}\n        </label>\n        <input\n          type=\"text\"\n          className=\"FormControl\"\n          spellcheck=\"false\"\n          id={`${this.key}_endpoint`}\n          bidi={this.setting(`ordinaryjellyfish-sentra.services.${this.key}.endpoint`)}\n        />\n      </div>\n    );\n  }\n\n  onsaved() {\n    window.location.reload();\n  }\n}\n","/*\n * Sentra - Intelligent community management and moderation for Flarum.\n * Copyright (C) 2025  Tristian Kelly <me@ordinaryjellyfish.xyz>\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport app from 'flarum/admin/app';\nimport ServiceModal from './ServiceModal';\nimport Switch from 'flarum/common/components/Switch';\n\nexport default class ContentSafetyModal extends ServiceModal {\n  key = 'content_safety';\n\n  form() {\n    const imageSetting = `ordinaryjellyfish-sentra.services.${this.key}.analyze_images`;\n    const imageValue = this.setting(imageSetting)();\n\n    return [\n      <Switch state={!!imageValue && imageValue !== '0'} onchange={this.settings[imageSetting]}>\n        {app.translator.trans('ordinaryjellyfish-sentra.admin.services.content_safety_settings.analyze_images')}\n      </Switch>,\n      this.apiKeyField(),\n      this.endpointField(),\n    ];\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Alert'];","/*\n * Sentra - Intelligent community management and moderation for Flarum.\n * Copyright (C) 2025  Tristian Kelly <me@ordinaryjellyfish.xyz>\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport app from 'flarum/admin/app';\nimport SettingsModal from 'flarum/admin/components/SettingsModal';\nimport Alert from 'flarum/common/components/Alert';\nimport Switch from 'flarum/common/components/Switch';\n\nexport default class ModuleModal extends SettingsModal {\n  static isDismissible = true;\n  key = '';\n\n  className() {\n    return 'Modal--large';\n  }\n\n  title() {\n    return app.translator.trans(`ordinaryjellyfish-sentra.admin.modules.${this.key}`);\n  }\n\n  helpText() {\n    return app.translator.trans(`ordinaryjellyfish-sentra.admin.modules.${this.key}_help`);\n  }\n\n  dependencies(): string[] {\n    return [];\n  }\n\n  areRequiredServicesEnabled(): boolean {\n    return this.dependencies().every((service) => this.setting(`ordinaryjellyfish-sentra.services.${service}.enabled`)() === '1');\n  }\n\n  content() {\n    const setting = `ordinaryjellyfish-sentra.modules.${this.key}.enabled`;\n    const value = this.setting(setting)();\n    const requiredServices = this.dependencies();\n    const allServicesEnabled = this.areRequiredServicesEnabled();\n\n    return (\n      <div className=\"Modal-body\">\n        <p className=\"helpText\">{this.helpText()}</p>\n        {requiredServices.length > 0 && (\n          <p>\n            {app.translator.trans('ordinaryjellyfish-sentra.admin.modules.requires', {\n              services: requiredServices.map((service) => app.translator.trans(`ordinaryjellyfish-sentra.admin.services.${service}`)).join(', '),\n            })}\n          </p>\n        )}\n        {allServicesEnabled ? (\n          <div className=\"Form\">\n            <div className=\"Form-group\">\n              <Switch state={!!value && value !== '0'} onchange={this.settings[setting]} disabled={!allServicesEnabled}>\n                {app.translator.trans(`ordinaryjellyfish-sentra.admin.enable`)}\n              </Switch>\n            </div>\n            <div className=\"Form-group\">{this.form()}</div>\n            <div className=\"Form-group\">{this.submitButton()}</div>\n          </div>\n        ) : (\n          <Alert dismissable={false} type=\"error\">\n            {app.translator.trans('ordinaryjellyfish-sentra.admin.modules.requires_error')}\n          </Alert>\n        )}\n      </div>\n    );\n  }\n\n  onsaved() {\n    window.location.reload();\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Select'];","/*\n * Sentra - Intelligent community management and moderation for Flarum.\n * Copyright (C) 2025  Tristian Kelly <me@ordinaryjellyfish.xyz>\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport app from 'flarum/admin/app';\nimport ModuleModal from './ModuleModal';\nimport Select from 'flarum/common/components/Select';\n\nexport default class PostShieldModal extends ModuleModal {\n  key = 'post_shield';\n\n  dependencies() {\n    return ['content_safety'];\n  }\n\n  form() {\n    return [<h3>{app.translator.trans('ordinaryjellyfish-sentra.admin.modules.post_shield_settings.harm_categories')}</h3>, this.harmCategories()];\n  }\n\n  harmCategories() {\n    const categories = ['Hate', 'Sexual', 'Violence', 'SelfHarm'];\n\n    return categories.map((category) => {\n      const severitySetting = `ordinaryjellyfish-sentra.modules.${this.key}.categories.${category}.severity`;\n\n      return (\n        <div className=\"Form-group\">\n          <label className=\"checkbox\">\n            <input type=\"checkbox\" bidi={this.setting(`ordinaryjellyfish-sentra.modules.${this.key}.categories.${category}.enabled`)} />\n            {app.translator.trans(`ordinaryjellyfish-sentra.lib.post_shield.${category}`)}\n          </label>\n          <div className=\"helpText\">{app.translator.trans(`ordinaryjellyfish-sentra.lib.post_shield.${category}_help`)}</div>\n          <label>{app.translator.trans('ordinaryjellyfish-sentra.admin.modules.post_shield_settings.severity_level')}</label>\n          <Select\n            options={{\n              2: app.translator.trans('ordinaryjellyfish-sentra.admin.modules.post_shield_settings.severity_level_low'),\n              4: app.translator.trans('ordinaryjellyfish-sentra.admin.modules.post_shield_settings.severity_level_medium'),\n              6: app.translator.trans('ordinaryjellyfish-sentra.admin.modules.post_shield_settings.severity_level_high'),\n            }}\n            onchange={this.settings[severitySetting]}\n            value={this.setting(severitySetting)()}\n          />\n        </div>\n      );\n    });\n  }\n}\n","/*\n * Sentra - Intelligent community management and moderation for Flarum.\n * Copyright (C) 2025  Tristian Kelly <me@ordinaryjellyfish.xyz>\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport app from 'flarum/admin/app';\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport Button from 'flarum/common/components/Button';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport ContentSafetyModal from './components/ContentSafetyModal';\nimport type Mithril from 'mithril';\nimport ServiceModal from './components/ServiceModal';\nimport PostShieldModal from './components/PostShieldModal';\nimport ModuleModal from './components/ModuleModal';\n\nexport default class SettingsPage extends ExtensionPage {\n  content() {\n    return (\n      <div className=\"ExtensionPage-settings\">\n        <div className=\"container\">\n          <h2>{app.translator.trans(`ordinaryjellyfish-sentra.admin.services.heading`)}</h2>\n          {this.serviceItems()\n            .toArray()\n            .map(({ label, modal }) => {\n              return (\n                <Button className=\"Button\" onclick={() => app.modal.show(modal)}>\n                  {label}\n                </Button>\n              );\n            })}\n          <h2>{app.translator.trans(`ordinaryjellyfish-sentra.admin.modules.heading`)}</h2>\n          {this.moduleItems()\n            .toArray()\n            .map(({ label, modal }) => {\n              return (\n                <Button className=\"Button\" onclick={() => app.modal.show(modal)}>\n                  {label}\n                </Button>\n              );\n            })}\n        </div>\n      </div>\n    );\n  }\n\n  serviceItems() {\n    const items = new ItemList<{\n      label: Mithril.Children;\n      modal: typeof ServiceModal;\n    }>();\n\n    items.add('content_safety', {\n      label: app.translator.trans('ordinaryjellyfish-sentra.admin.services.content_safety'),\n      modal: ContentSafetyModal,\n    });\n\n    return items;\n  }\n\n  moduleItems() {\n    const items = new ItemList<{\n      label: Mithril.Children;\n      modal: typeof ModuleModal;\n    }>();\n\n    items.add('post_shield', {\n      label: app.translator.trans('ordinaryjellyfish-sentra.admin.modules.post_shield'),\n      modal: PostShieldModal,\n    });\n\n    return items;\n  }\n}\n","/*\n * Sentra - Intelligent community management and moderation for Flarum.\n * Copyright (C) 2025  Tristian Kelly <me@ordinaryjellyfish.xyz>\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport app from 'flarum/admin/app';\nimport SettingsPage from './SettingsPage';\n\napp.initializers.add('ordinaryjellyfish/sentra', () => {\n  app.extensionData\n    .for('ordinaryjellyfish-sentra')\n    .registerPage(SettingsPage)\n    .registerPermission(\n      {\n        icon: 'fas fa-door-open',\n        label: app.translator.trans('ordinaryjellyfish-sentra.admin.permissions.bypass'),\n        permission: 'ordinaryjellyfish-sentra.bypass',\n      },\n      'moderate'\n    );\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","ServiceModal","_SettingsModal","_this","_len","arguments","length","args","Array","_key","apply","concat","_proto","className","title","app","trans","this","helpText","content","setting","value","m","Switch","state","onchange","settings","form","submitButton","apiKeyField","for","type","spellcheck","id","bidi","endpointField","onsaved","window","location","reload","SettingsModal","isDismissible","ContentSafetyModal","_ServiceModal","imageSetting","imageValue","ModuleModal","dependencies","areRequiredServicesEnabled","_this2","every","service","requiredServices","allServicesEnabled","services","map","join","disabled","Alert","dismissable","PostShieldModal","_ModuleModal","harmCategories","category","severitySetting","Select","options","SettingsPage","_ExtensionPage","serviceItems","toArray","_ref","label","modal","Button","onclick","show","moduleItems","_ref2","items","ItemList","add","ExtensionPage","registerPage","registerPermission","icon","permission"],"sourceRoot":""}