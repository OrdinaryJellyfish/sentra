{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@ordinaryjellyfish/sentra/webpack/bootstrap","webpack://@ordinaryjellyfish/sentra/webpack/runtime/compat get default export","webpack://@ordinaryjellyfish/sentra/webpack/runtime/define property getters","webpack://@ordinaryjellyfish/sentra/webpack/runtime/hasOwnProperty shorthand","webpack://@ordinaryjellyfish/sentra/webpack/runtime/make namespace object","webpack://@ordinaryjellyfish/sentra/external root \"flarum.core.compat['admin/app']\"","webpack://@ordinaryjellyfish/sentra/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@ordinaryjellyfish/sentra/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@ordinaryjellyfish/sentra/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@ordinaryjellyfish/sentra/external root \"flarum.core.compat['common/components/Button']\"","webpack://@ordinaryjellyfish/sentra/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@ordinaryjellyfish/sentra/external root \"flarum.core.compat['admin/components/SettingsModal']\"","webpack://@ordinaryjellyfish/sentra/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@ordinaryjellyfish/sentra/./src/admin/components/ServiceModal.tsx","webpack://@ordinaryjellyfish/sentra/./src/admin/components/ContentSafetyModal.tsx","webpack://@ordinaryjellyfish/sentra/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@ordinaryjellyfish/sentra/./src/admin/components/ModuleModal.tsx","webpack://@ordinaryjellyfish/sentra/external root \"flarum.core.compat['common/components/Select']\"","webpack://@ordinaryjellyfish/sentra/./src/admin/components/PostShieldModal.tsx","webpack://@ordinaryjellyfish/sentra/./src/admin/SettingsPage.tsx","webpack://@ordinaryjellyfish/sentra/./src/admin/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/SettingsModal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","/*\n * Sentra - Intelligent community management and moderation for Flarum.\n * Copyright (C) 2025  Tristian Kelly <me@ordinaryjellyfish.xyz>\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport app from 'flarum/admin/app';\nimport SettingsModal from 'flarum/admin/components/SettingsModal';\nimport Switch from 'flarum/common/components/Switch';\n\nexport default class ServiceModal extends SettingsModal {\n  static isDismissible = true;\n  key = '';\n  docUrl: string | null = null;\n\n  className() {\n    return 'Modal--large';\n  }\n\n  title() {\n    return app.translator.trans(`ordinaryjellyfish-sentra.admin.services.${this.key}`);\n  }\n\n  helpText() {\n    return app.translator.trans(`ordinaryjellyfish-sentra.admin.services.${this.key}_help`);\n  }\n\n  content() {\n    const setting = `ordinaryjellyfish-sentra.services.${this.key}.enabled`;\n    const value = this.setting(setting)();\n\n    return (\n      <div className=\"Modal-body\">\n        <p className=\"helpText\">{this.helpText()}</p>\n        {this.docUrl && (\n          <a className=\"Button Button--primary\" style=\"margin-bottom:10px\" icon=\"fas fa-book\" href={this.docUrl} external={true} target=\"_blank\">\n            {app.translator.trans('ordinaryjellyfish-sentra.admin.view_documentation')}\n          </a>\n        )}\n        <div className=\"Form\">\n          <div className=\"Form-group\">\n            <Switch state={!!value && value !== '0'} onchange={this.settings[setting]}>\n              {app.translator.trans(`ordinaryjellyfish-sentra.admin.enable`)}\n            </Switch>\n          </div>\n          <div className=\"Form-group\">{this.form()}</div>\n          <div className=\"Form-group\">{this.submitButton()}</div>\n        </div>\n      </div>\n    );\n  }\n\n  apiKeyField() {\n    return (\n      <>\n        <label for={`${this.key}_apiKey`}>{app.translator.trans('ordinaryjellyfish-sentra.admin.api_key')}</label>\n        <input\n          type=\"text\"\n          className=\"FormControl\"\n          spellcheck=\"false\"\n          id={`${this.key}_apiKey`}\n          bidi={this.setting(`ordinaryjellyfish-sentra.services.${this.key}.api_key`)}\n        />\n      </>\n    );\n  }\n\n  endpointField() {\n    return (\n      <>\n        <label for={`${this.key}_endpoint`}>{app.translator.trans('ordinaryjellyfish-sentra.admin.endpoint')}</label>\n        <input\n          type=\"text\"\n          className=\"FormControl\"\n          spellcheck=\"false\"\n          id={`${this.key}_endpoint`}\n          bidi={this.setting(`ordinaryjellyfish-sentra.services.${this.key}.endpoint`)}\n        />\n      </>\n    );\n  }\n\n  onsaved() {\n    window.location.reload();\n  }\n}\n","/*\n * Sentra - Intelligent community management and moderation for Flarum.\n * Copyright (C) 2025  Tristian Kelly <me@ordinaryjellyfish.xyz>\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport app from 'flarum/admin/app';\nimport ServiceModal from './ServiceModal';\nimport Switch from 'flarum/common/components/Switch';\n\nexport default class ContentSafetyModal extends ServiceModal {\n  key = 'content_safety';\n\n  form() {\n    const imageSetting = `ordinaryjellyfish-sentra.services.${this.key}.analyze_images`;\n    const imageValue = this.setting(imageSetting)();\n\n    return [\n      <Switch state={!!imageValue && imageValue !== '0'} onchange={this.settings[imageSetting]}>\n        {app.translator.trans('ordinaryjellyfish-sentra.admin.services.content_safety_settings.analyze_images')}\n      </Switch>,\n      this.apiKeyField(),\n      this.endpointField(),\n    ];\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Alert'];","/*\n * Sentra - Intelligent community management and moderation for Flarum.\n * Copyright (C) 2025  Tristian Kelly <me@ordinaryjellyfish.xyz>\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport app from 'flarum/admin/app';\nimport SettingsModal from 'flarum/admin/components/SettingsModal';\nimport Alert from 'flarum/common/components/Alert';\nimport Switch from 'flarum/common/components/Switch';\n\nexport default class ModuleModal extends SettingsModal {\n  static isDismissible = true;\n  key = '';\n  docUrl: string | null = null;\n\n  className() {\n    return 'Modal--large';\n  }\n\n  title() {\n    return app.translator.trans(`ordinaryjellyfish-sentra.admin.modules.${this.key}`);\n  }\n\n  helpText() {\n    return app.translator.trans(`ordinaryjellyfish-sentra.admin.modules.${this.key}_help`);\n  }\n\n  dependencies(): string[] {\n    return [];\n  }\n\n  areRequiredServicesEnabled(): boolean {\n    return this.dependencies().every((service) => this.setting(`ordinaryjellyfish-sentra.services.${service}.enabled`)() === '1');\n  }\n\n  content() {\n    const setting = `ordinaryjellyfish-sentra.modules.${this.key}.enabled`;\n    const value = this.setting(setting)();\n    const requiredServices = this.dependencies();\n    const allServicesEnabled = this.areRequiredServicesEnabled();\n\n    return (\n      <div className=\"Modal-body\">\n        <p className=\"helpText\">{this.helpText()}</p>\n        {this.docUrl && (\n          <a className=\"Button Button--primary\" style=\"margin-bottom:10px\" icon=\"fas fa-book\" href={this.docUrl} external={true} target=\"_blank\">\n            {app.translator.trans('ordinaryjellyfish-sentra.admin.view_documentation')}\n          </a>\n        )}\n        {requiredServices.length > 0 && (\n          <p>\n            {app.translator.trans('ordinaryjellyfish-sentra.admin.modules.requires', {\n              services: requiredServices.map((service) => app.translator.trans(`ordinaryjellyfish-sentra.admin.services.${service}`)).join(', '),\n            })}\n          </p>\n        )}\n        {allServicesEnabled ? (\n          <div className=\"Form\">\n            <div className=\"Form-group\">\n              <Switch state={!!value && value !== '0'} onchange={this.settings[setting]} disabled={!allServicesEnabled}>\n                {app.translator.trans(`ordinaryjellyfish-sentra.admin.enable`)}\n              </Switch>\n            </div>\n            <div className=\"Form-group\">{this.form()}</div>\n            <div className=\"Form-group\">{this.submitButton()}</div>\n          </div>\n        ) : (\n          <Alert dismissable={false} type=\"error\">\n            {app.translator.trans('ordinaryjellyfish-sentra.admin.modules.requires_error')}\n          </Alert>\n        )}\n      </div>\n    );\n  }\n\n  onsaved() {\n    window.location.reload();\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Select'];","/*\n * Sentra - Intelligent community management and moderation for Flarum.\n * Copyright (C) 2025  Tristian Kelly <me@ordinaryjellyfish.xyz>\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport app from 'flarum/admin/app';\nimport ModuleModal from './ModuleModal';\nimport Select from 'flarum/common/components/Select';\n\nexport default class PostShieldModal extends ModuleModal {\n  key = 'post_shield';\n  docUrl = 'https://sentra.ordinaryjellyfish.xyz';\n\n  dependencies() {\n    return ['content_safety'];\n  }\n\n  form() {\n    return [<h3>{app.translator.trans('ordinaryjellyfish-sentra.admin.modules.post_shield_settings.harm_categories')}</h3>, this.harmCategories()];\n  }\n\n  harmCategories() {\n    const categories = ['Hate', 'Sexual', 'Violence', 'SelfHarm'];\n\n    return categories.map((category) => {\n      const severitySetting = `ordinaryjellyfish-sentra.modules.${this.key}.categories.${category}.severity`;\n\n      return (\n        <div className=\"Form-group\">\n          <label className=\"checkbox\">\n            <input type=\"checkbox\" bidi={this.setting(`ordinaryjellyfish-sentra.modules.${this.key}.categories.${category}.enabled`)} />\n            {app.translator.trans(`ordinaryjellyfish-sentra.lib.post_shield.${category}`)}\n          </label>\n          <div className=\"helpText\">{app.translator.trans(`ordinaryjellyfish-sentra.lib.post_shield.${category}_help`)}</div>\n          <label>{app.translator.trans('ordinaryjellyfish-sentra.admin.modules.post_shield_settings.severity_level')}</label>\n          <Select\n            options={{\n              2: app.translator.trans('ordinaryjellyfish-sentra.admin.modules.post_shield_settings.severity_level_low'),\n              4: app.translator.trans('ordinaryjellyfish-sentra.admin.modules.post_shield_settings.severity_level_medium'),\n              6: app.translator.trans('ordinaryjellyfish-sentra.admin.modules.post_shield_settings.severity_level_high'),\n            }}\n            onchange={this.settings[severitySetting]}\n            value={this.setting(severitySetting)()}\n          />\n        </div>\n      );\n    });\n  }\n}\n","/*\n * Sentra - Intelligent community management and moderation for Flarum.\n * Copyright (C) 2025  Tristian Kelly <me@ordinaryjellyfish.xyz>\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport app from 'flarum/admin/app';\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport Button from 'flarum/common/components/Button';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport ContentSafetyModal from './components/ContentSafetyModal';\nimport type Mithril from 'mithril';\nimport ServiceModal from './components/ServiceModal';\nimport PostShieldModal from './components/PostShieldModal';\nimport ModuleModal from './components/ModuleModal';\n\nexport default class SettingsPage extends ExtensionPage {\n  content() {\n    return (\n      <div className=\"ExtensionPage-settings\">\n        <div className=\"container\">\n          <h2>{app.translator.trans(`ordinaryjellyfish-sentra.admin.services.heading`)}</h2>\n          {this.serviceItems()\n            .toArray()\n            .map(({ label, modal }) => {\n              return (\n                <Button className=\"Button sentra-button\" onclick={() => app.modal.show(modal)}>\n                  {label}\n                </Button>\n              );\n            })}\n          <h2>{app.translator.trans(`ordinaryjellyfish-sentra.admin.modules.heading`)}</h2>\n          {this.moduleItems()\n            .toArray()\n            .map(({ label, modal }) => {\n              return (\n                <Button className=\"Button sentra-button\" onclick={() => app.modal.show(modal)}>\n                  {label}\n                </Button>\n              );\n            })}\n        </div>\n      </div>\n    );\n  }\n\n  serviceItems() {\n    const items = new ItemList<{\n      label: Mithril.Children;\n      modal: typeof ServiceModal;\n    }>();\n\n    items.add('content_safety', {\n      label: app.translator.trans('ordinaryjellyfish-sentra.admin.services.content_safety'),\n      modal: ContentSafetyModal,\n    });\n\n    return items;\n  }\n\n  moduleItems() {\n    const items = new ItemList<{\n      label: Mithril.Children;\n      modal: typeof ModuleModal;\n    }>();\n\n    items.add('post_shield', {\n      label: app.translator.trans('ordinaryjellyfish-sentra.admin.modules.post_shield'),\n      modal: PostShieldModal,\n    });\n\n    return items;\n  }\n}\n","/*\n * Sentra - Intelligent community management and moderation for Flarum.\n * Copyright (C) 2025  Tristian Kelly <me@ordinaryjellyfish.xyz>\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport app from 'flarum/admin/app';\nimport SettingsPage from './SettingsPage';\nimport ModuleModal from './components/ModuleModal';\nimport ServiceModal from './components/ServiceModal';\n\napp.initializers.add('ordinaryjellyfish/sentra', () => {\n  app.extensionData\n    .for('ordinaryjellyfish-sentra')\n    .registerPage(SettingsPage)\n    .registerPermission(\n      {\n        icon: 'fas fa-door-open',\n        label: app.translator.trans('ordinaryjellyfish-sentra.admin.permissions.bypass'),\n        permission: 'ordinaryjellyfish-sentra.bypass',\n      },\n      'moderate'\n    );\n});\n\nexport { SettingsPage, ModuleModal, ServiceModal };\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","ServiceModal","_SettingsModal","_this","_len","arguments","length","args","Array","_key","apply","concat","docUrl","_proto","className","title","app","trans","this","helpText","content","setting","m","style","icon","href","external","target","Switch","state","onchange","settings","form","submitButton","apiKeyField","'['","for","type","spellcheck","id","bidi","endpointField","onsaved","window","location","reload","SettingsModal","isDismissible","ContentSafetyModal","_ServiceModal","imageSetting","imageValue","ModuleModal","dependencies","areRequiredServicesEnabled","_this2","every","service","requiredServices","allServicesEnabled","services","map","join","disabled","Alert","dismissable","PostShieldModal","_ModuleModal","harmCategories","category","severitySetting","Select","options","SettingsPage","_ExtensionPage","serviceItems","toArray","_ref","label","modal","Button","onclick","show","moduleItems","_ref2","items","ItemList","add","ExtensionPage","registerPage","registerPermission","permission"],"sourceRoot":""}